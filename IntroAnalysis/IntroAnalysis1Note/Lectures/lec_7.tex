\lecture{7}{23 Sep. 09:10}{}
\subsubsection{Completeness of \(\mathbb{R}^n\) with \(d_2, d_1, d_\infty \) }
\begin{prev}
    \((X, d_1)\) and \((X, d_2)\) are Lipschitz equivalent if \(\exists c_1, c_2 > 0\)s.t. 
    \[
        c_1 d_1(x, y) \le d_2(x, y) \le c_2 d_2(x, y) \quad \forall x, y \in X. 
    \]   
\end{prev}

\begin{theorem} \label{thm: Lipschitz equivalent means complete equivalence}
    Suppose \((X, d_1)\) and \((X, d_2)\) are Lipschitz equivalent, then 
    \[
        (X, d_1) \text{ is complete} \iff (X, d_2) \text{ is complete}.
    \]  
\end{theorem}
\begin{proof}
    \vphantom{text}
    \begin{itemize}
        \item [\((\implies )\)] Given any Cauchy sequence \(\left( x^{(n)} \right)_{n=1}^{\infty}  \) in \((X, d_2)\), then since \(d_1(x, y) \le \frac{1}{c_1} d_2(x, y)\), so \(\left( x^{(n)} \right)_{n=1}^{\infty}  \) is Cauchy in \((X, d_1)\). Since \((X, d_1)\) is complete, so there exists \(x \in X\) s.t. \(\lim_{n \to \infty} x_n = x \in (X, d_1)\). However, \(x \in (X, d_2)\), so \((X, d_2)\) is complete. 
        \item [\((\impliedby )\)] Similar.         
    \end{itemize}
\end{proof}

\begin{theorem} \label{thm: Rn d2 complete}
    \(\left( \mathbb{R} ^n, d_2 \right) \) is a complete metric space. 
\end{theorem}

\begin{corollary}
    Since \(\left( \mathbb{R}^n , d_2\right), \left( \mathbb{R} ^n, d_1 \right), \left( \mathbb{R} ^n, d_\infty  \right)   \) are Lipschitz equivalent, so they are all complete by \autoref{thm: Lipschitz equivalent means complete equivalence} and \autoref{thm: Rn d2 complete}.
\end{corollary}

\section{Compact metric space}
\begin{definition}[Compact space] \label{def: compect}
    A metric space \((X, d)\) is compact iff every sequence in \((X, d)\) has at least one convergent subsequence convergeing in \(X\). A subset \(Y \subseteq X\) is compact if \(\left( Y, d\vert_{Y \times Y} \right) \) is compact. That is, \(\left( Y, d\vert_{Y \times Y} \right) \) is compact if for any sequence \(\left( y^{(n)} \right)_{n=1}^{\infty } \subseteq  Y \), there exists a subsequence \(\left( y^{(n_j)} \right)_{j=1}^{\infty}  \) and \(y \in Y\)  s.t. \(\lim_{k \to \infty} y^{(n_k)} = y. \)     
\end{definition}

\begin{definition}[Bounded] \label{def: bounded}
    Let \((X, d)\) be a metric space and let \(Y \subseteq X\). We say \(Y\) is bounded iff for any \(x \in X\), there exists \(r > 0\) s.t. \(Y \subseteq B_X(x, r)\).      
\end{definition}

\begin{theorem} \label{thm: bounded in fact only need one ball contain Y}
    \[
        Y \text{ is bounded} \iff \exists x_0 \in X \text{ and } R > 0 \text{ s.t. } Y \subseteq B_X(x_0, R).
    \]
\end{theorem}
\begin{proof}
    The "\((\implies) \)" is easy, so we just prove the other direction. Given any \(x \in X\), we can choose \(r_x = R + d(x, x_0)\). 
    \begin{claim}
        \(Y \subseteq B_X(x, r_x)\). 
    \end{claim}  
    \begin{explanation}
        Let \(y \in Y\), we know 
        \[
            d(y, x) \le d(y, x_0) + d(x_0, x) < R + d(x_0, x).
        \] 
        Hence, \(y \in B_X(x, r_x)\).  
    \end{explanation}
\end{proof}

\begin{proposition} \label{prop: compact means complete and bounded}
    Let \((X, d)\) be a compact metric space. Then \((X, d)\) is complete and bounded.  
\end{proposition}
\begin{proof}
    \vphantom{text}
    \begin{itemize}
        \item We want to show that \((X, d)\) is complete. Given any Cauchy sequence \(\left( x^{(n)} \right)_{n=1}^{\infty}  \)  in \((X, d)\), then since \((X, d)\) is compact, so there exists a compact subsequence \(\left( x^{(n_k)} \right)_{k=1}^{\infty}  \) in \(X\) s.t. \(\lim_{k \to \infty} x^{(n_k)} = x \). Since \(\left( x^{(n)} \right)_{n=1}^{\infty}  \) is Cauchy sequence and \(\left( x^{(n_k)} \right)_{k=1}^{\infty}  \) converges to \(x\), so \(\lim_{n \to \infty} x^{(n)} = x \). (See \autoref{thm: if subseq of cauchy converge, then cauchy converge to same point})  
        \item Consider \(x_0 \in X\). Suppose \(X\) is not bounded, then \(B(x_0, n)\) will not contain \(X\) for all \(n\). For each \(n \in \mathbb{N} \),
        \[
            \exists y^{(n)} \in X \text{ and } y^{(n)} \notin B_X(x_0, n) \text{ i.e. } d\left( y^{(n)}, x_0 \right) \ge n. 
        \]
        Hence, \(\left\{ y^{(n)} \right\}_{n=1}^{\infty}  \) is a sequence in \((X, d)\) with \(d\left( y^{(n)}, x_0\right) \ge n \). Since \((X, d)\) is compact, so there exists a convergent sequence \(\left\{ y^{(n_k)} \right\}_{k=1}^{\infty}  \) and \(y \in X\) s.t. \(\lim_{k \to \infty} y^{(n_k)} = y \). Hence, there exists \(R > 0\) s.t. \(d\left( y, y^{(n_k)} \right) < R \) for all \(k\) which is big enough, but this means 
        \begin{align*}
            n_k &\le d\left( y^{(n_k)}, x_0 \right) \le d\left( y^{(n_k)}, y \right) + d(y, x_0) < R + d(y, x_0),  
        \end{align*}  which is a fixed value, but \(n_k\) can be arbitrary large, so this is a contradiction.       
    \end{itemize}
\end{proof}

\begin{corollary} \label{cl: compact subset of X is closed and bounded}
    Let \((X, d)\) be a metric space and \(Y\) be a compact subset, then \(Y\) is closed and bounded.    
\end{corollary}
\begin{proof}
    Since \(Y\) is a compact subset, so \(\left( Y, d\vert_{Y \times Y} \right) \) is compact. Thus, \(Y\) is bounded by  \autoref{prop: compact means complete and bounded}. Hence, \(\exists y_0 \in Y\) and \(R > 0\) s.t. 
    \[
        Y \subseteq B_Y(y_0, R) =  B_X(y_0, R) \cap Y \subseteq B_X(y_0, R).
    \]   
    Let \(y \in \overline{Y} \), then \(\exists \left( y^{(n)} \right)_{n=1}^{\infty}  \) in \(Y\) s.t. \(\lim_{n \to \infty} y^{(n)} = y \). Also, since \(Y\) is compact, so for the convergent sequence \(\left\{ y^{(n)} \right\}_{n=1}^{\infty}  \), there is a subsequence \(\left\{ y^{(n_k)} \right\}_{k=1}^{\infty}  \) and \(y_0 \in Y\)  s.t. \(\lim_{k \to \infty}  y^{(n_k)}= y_0 \in Y\). By uniqueness of limit in metric space, we know \(y = y_0\), and thus \(y \in \overline{Y} \). Hence, \(\overline{Y} = Y \). (Actually, by \autoref{lm: converge equal Cauchy}, we know \(\left\{ y^{(n)} \right\}_{n=1}^{\infty} \) is Cauchy, and then by \autoref{thm: if subseq of cauchy converge, then cauchy converge to same point}, we know \(y = y_0\).)    
\end{proof}

\begin{theorem}[Heine-Borel Theorem] \label{thm: Heine Borel thm}
    Let \(\left( \mathbb{R} ^n, d \right) \) be \(\mathbb{R} ^n\) with \(d = d_2, d_\infty , d_1\), and let \(E \subseteq \mathbb{R} ^n\), then 
    \[
        E \text{ is compact} \iff E \text{ is closed and bounded}.
    \]  
\end{theorem}
\begin{proof}
    \vphantom{text}
    \begin{itemize}
        \item [\((\implies )\)] Trivial by the corollary. 
        \item [\((\impliedby )\)] Suppose \(E\) is closed and bounded. Given a sequence \(\left( X^{(n)} \right)_{n=1}^{\infty}  \) in \(E\). By \hyperref[thm: Bolzano Weierstrass thm]{Bolzano-Weierstrass Theorem} , every bounded sequence has a convergent subsequnce. Since \(E\) is closed, so \(E = \overline{E} \), and thus the convergent subsequence converges in \(E\). Hence, \(E\) is compact.   
    \end{itemize}
\end{proof}

\begin{remark}
    In a metric space, closed and bounded do not imply compact but compact implies closed and bounded.
\end{remark}

\begin{eg}
    Consider \(\left( \mathbb{Z} . d_{\text{disc}} \right) \), then \(\mathbb{Z} \) is bounded since \(\mathbb{Z} \subseteq B_{\text{disc}}(0, 2)\) and \(\mathbb{Z} \) is closed in \(\mathbb{Z} \)  but \(\mathbb{Z} \) is not compact since any subsequence of \(\left\{ n \right\}_{n \in \mathbb{N} } \) does not converge in \(\left( Z, d_{\text{disc}} \right) \). 
\end{eg}

\begin{theorem} \label{thm: compact to subcover}
    Let \((X, d)\) be a metric space, let \(Y\) be a compact subset of \(X\). Let \(\left( V_\alpha  \right)_{\alpha \in A} \) be a collection of open sets in \(X\), and suppose that \(Y \subseteq \bigcup_{\alpha \in A} V_\alpha  \) (i.e. \(\left( V_\alpha  \right)_{\alpha \in A} \) covers \(Y\)). Then, there exists a finite subset \(F \subseteq A\) s.t. \(Y \subseteq \bigcup_{\alpha \in F} V_\alpha  \).        
\end{theorem}
\begin{proof}
    We prove by contradiction. Suppose there does not exist a finite subset \(F \subseteq A\) s.t. \(Y \subseteq \bigcup_{\alpha \in F} V_\alpha  \).  
        For each \(y \in Y \subseteq \bigcup_{\alpha \in A} V_\alpha  \). \(\exists \alpha \in A\) s.t. \(y \in V_\alpha \). Since \(V_\alpha \) is open, so there exists \(r > 0\) s.t. \(B(y, r) \subseteq V_\alpha \). Define 
        \[
            r(y) = \sup \left\{ r > 0 : B_X(y, r) \subseteq V_\alpha \text{ for some } \alpha \in A \right\}. 
        \] Note that \(r(y) > 0\) for all \(y \in Y\). Now if we pick \(r_0 = \inf \left\{ r(y) : y\in Y \right\} \), then \(r_0 \ge 0\). 
        \begin{itemize}
            \item Case 1: \(r_0 = 0\), there exists \(y^{(n)} \in Y\) s.t. \( 0 < r\left( y^{(n)} \right) < \frac{1}{n} \). Thus, \(\left( y^{(n)} \right)_{n=1}^{\infty}  \) is a sequence in \(Y\), and since \(Y\) is compact, so there exists a convergent subsequence \(\left( y^{(n_k)} \right)_{k=1}^{\infty}  \) converging to \(y_0 \in Y\). Also, there exists \(\varepsilon > 0\) and \(\alpha \in A\) s.t. \(B_X(y_0, \varepsilon ) \subseteq V_\alpha \). Since \(\lim_{k \to \infty} d\left( y^{(n_k)}, y_0 \right) = 0  \), so there exists \(N > 0\) s.t. \(j \ge N\) implies 
            \[
                y^{(n_j)} \in B_X \left( y_0, \frac{\varepsilon}{2} \right).
            \]
            \begin{claim}
                For all \(j \ge N\), \(B\left( y^{(n_j)}, \frac{\varepsilon}{2} \right) \subseteq B\left( y_0, \varepsilon  \right)  \). 
            \end{claim}
            \begin{explanation}
                Suppose \(z \in B\left( y^{(n_j)}, \frac{\varepsilon}{2}  \right) \), then \(d\left( z, y^{(n_j)} \right) < \frac{\varepsilon}{2}\), and thus 
                \[
                    d(z, y_0) \le d\left( z, y^{(n_j)} \right) + d\left( y^{(n_j)}, y_0 \right) < \frac{\varepsilon}{2} + \frac{\varepsilon}{2} = \varepsilon.  
                \]   
            \end{explanation}
            Now since \(B_X(y_0, \varepsilon ) \subseteq V_\alpha \), so for \(j \ge N\), \(B\left( y^{(n_j)}, \frac{\varepsilon}{2} \right) \subseteq V_\alpha \), which means
            \[
                r\left( y^{(n_j)} \right) \ge \frac{\varepsilon}{2} > 0.
            \]    
            However, this contradicts to the assumption that \(r\left( y^{(n_j)} \right) < \frac{1}{n_j} \) for all \(j\).
            Hence, Case 1 is impossible. 
            \item Case 2: \( \infty > r_0 > 0\).   We know \(r_0 \le r(y)\) for all \(y \in Y\) by definition. Hence, \(0 < \frac{r_0}{2} < r(y)\). This means for each \(y \in Y\), there exists \(\alpha \in A\) s.t. \(B_X \left( y, \frac{r_0}{2} \right) \subseteq V_\alpha   \). Choose a point \(y^{(1)} \in Y\) s.t. \(\exists \alpha _1 \in A\) s.t. \(B_X \left( y^{(1)}, \frac{r_0}{2} \right) \subseteq V_{\alpha _1} \). Since \(V_{\alpha _1}\) cannot cover \(Y\), so there exists \(y^{(2)}\in Y\) and \(y^{(2)} \notin B_X \left( y^{(1)}, \frac{r_0}{2} \right) \subseteq V_{\alpha _1} \). Hence, \(d\left( y^{(2)}, y^{(1)} \right) \ge \frac{r_0}{2} \). Now we set the induction hypothesis: Suppose there exists \(y^{(1)}, \dots , y^{(k)} \in Y\) and \(\alpha _1, \dots , \alpha _k \in A\) s.t. 
            \[
                B_X \left( y^{(j)}, \frac{r_0}{2} \right) \subseteq V_{\alpha _j} \text{ and } d \left( y^{(i)}, y^{(j)} \right) \ge \frac{r_0}{2} \quad \forall i \neq j, 
            \] and \(B_X \left( y^{(1)}, \frac{r_0}{2} \right) \cup  \dots \cup B_X \left( y^{(k)}, \frac{r_0}{2} \right)  \) cannot cover \(Y\), then we can find
            \[
                y^{(k + 1)} \notin B_X \left( y^{(1)}, \frac{r_0}{2} \right) \cup  \dots \cup B_X \left( y^{(k)}, \frac{r_0}{2} \right), 
            \] and thus \(d\left( y^{(k+1)}, y^{(i)} \right) \ge \frac{r_0}{2} \) for \(1 \le i \le k\). Also, \(\exists \alpha _{k+1} \) s.t. \(B\left( y^{(k+1)}, \frac{r_0}{2} \right) \subseteq V_{\alpha_{k+1}} \). Now we know \(B\left( y^{(1)}, \frac{r_0}{2} \right) \cup \dots \cup B\left( y^{(k+1)}, \frac{r_0}{2} \right)  \) won't cover \(Y\), then \(\left\{ y^{(k)} \right\}_{k=1}^{\infty}  \) is a sequence in \(Y\) and \(d\left( y^{(j)}, y^{(l)} \right) \ge \frac{r_0}{2} \). Since \(Y\) is compact, so there exists a subsequence of \(\left\{ y^{(k)} \right\}_{k=1}^{\infty}  \) which is convergent, but it is impossible, so we have a contradiction. 
            \item Case 3: \(r_0 = \infty \). If so, then it means \(\inf \left\{ r(y) : y \in Y \right\} = \infty  \), so \(r(y) = \infty \) for all \(y \in Y\), otherwise if for some \(y^{\prime} \in Y\), \(r\left( y^{\prime}  \right) \) is finite, then \(r_0 \le r\left( y^{\prime}  \right) \), and will get a contradiction. Now we have \(r(y) = \infty \) for all \(y \in Y\). This means for all \(r > 0\), there exists some \(\alpha \in A\) s.t. \(B_X(y, r) \subseteq V_\alpha \). Now since \(Y\) is compact, so \(Y\) is bounded, which means for all \(y \in Y\), there exists \(r_y\) s.t. \(Y \subseteq B_X(y, r_y)\). However, since \(r(y) = \infty \) and by the previous argument, we know \(B_X(y, r_y) \subseteq V_{\alpha _y}\) for some \(\alpha_y \in A\), and thus \(Y \subseteq V_{\alpha _y}\), and thus \(V_{\alpha _y}\) covers \(Y\), which is a contradiciton.                              
        \end{itemize}      
\end{proof}